# 维护日志 (Maintenance Log)

## 项目概述

**项目名称**: lets-go-dutch  
**技术栈**: Vite + Vue 3 + TypeScript + Tailwind CSS  
**项目类型**: 移动端友好的分账应用

---

## 版本历史

### v0.2.0 - 分享功能 (2026-02-18)

**主要变更**
- ✅ 实现分账数据分享功能：URL参数压缩分享
- ✅ 修复分享数据加载时的ID映射问题
- ✅ 自动过滤无效账目（引用已删除人员的账目）

**技术细节**
- 新增 `src/utils/shareEncoder.ts` 分享编码/解码工具
- 数据精简：使用索引替代personId，减少60-70%数据量
- 压缩流程：JSON → Gzip → Base64 → URL参数
- 新增依赖：`pako` (Gzip压缩库)

---

### v0.1.1 - UI优化 (2026-02-18)

**主要变更**
- ✅ 结算栏显示当前人员净金额
- ✅ 重置功能恢复预设两名人员
- ✅ 改为仅使用鸟类名称和emoji
- ✅ 消费日期功能，支持编辑
- ✅ 总金额自动计算，分账自动平均分配

---

### v0.1.0 - 核心功能 (2026-02-18)

**主要变更**
- ✅ 项目搭建：Vite + Vue 3 + TypeScript + Tailwind CSS + Pinia
- ✅ 人员管理、分账记录管理
- ✅ 多人支付支持、分账金额微调
- ✅ 结算计算、最少转账步数算法
- ✅ 已私下支付标记、数据持久化

---

## 技术栈

- Vue 3 + TypeScript + Vite
- Tailwind CSS + Pinia
- pako (Gzip压缩)

---

## 核心算法

- **净金额计算**: O(m × n)，支持多人支付
- **最少转账步数**: 贪心算法，O(n log n)
- **分账微调**: 差值等分分摊，O(n)

---

## 数据持久化

使用 localStorage 保存数据（人员、账目）

---

## 分享功能

- 数据压缩：精简数据 → JSON → Gzip → Base64 → URL参数
- URL格式：`#share={encoded_data}`
- 数据大小：10人+50账目约2.7-5.3KB，20人+100账目约5.3-10.7KB
